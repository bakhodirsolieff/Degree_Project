<head>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>E-commerce</title>
    <link href="../assets/css/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
</head>

<section class="middle">
    <div class="container-fluid">
        <div class="row align-items-start justify-content-between">
            <div class="col-12 col-md-12 col-lg-3 col-xl-2 miliods">
                <div class="d-block border rounded header-dark">
                    <div class="dashboard_author">
                        <ul class="dahs_navbar">
                            <li>
                                <a href="#"><i class="bi bi-grid-fill me-2"></i>Dashboard</a>
                            </li>
                            <li>
                                <a href="#"><i class="bi bi-grid-1x2-fill me-2"></i>Products</a>
                            </li>
                            <li>
                                <a href="#" class="active"><i class="fas fa-plus-circle me-2"></i>Create Product</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-shopping-cart me-2"></i>Orders</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-tag me-2"></i>Coupons</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-star me-2"></i>Reviews</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-bell me-2"></i>Notifications</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-user me-2"></i>Profile</a>
                            </li>
                            <li>
                                <a href="#"><i class="fas fa-power-off me-2"></i>Logout</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-12 col-lg-9 col-xl-10">
                <h4 class="mb-0 mb-4 fw-bold">Manage Product</h4>
                <div class="card border-0 shadow mb-4">
                    <div class="card-body">
                        <div class="">
                            <form class="pb-8" method="POST" enctype="multipart/form-data">
                                <!-- Basic Info Section -->
                                <div class="card mb-3">
                                    <div class="card-header border-bottom px-4 py-3">
                                        <h4 class="mb-0">Basic Information</h4>
                                    </div>
                                    <div class="card-body border-0">
                                        <div class="text-center d-flex justify-content-center align-items-center">
                                            <img id="imagePreview" src="dummy-image-url.jpg" alt="Image preview will appear here" style="width: 100%; height: 500px; object-fit: contain; border-radius: 10px" />
                                        </div>
                                        <div class="mb-3">
                                            <label for="imageInput" class="form-label">Product Thumbnail</label>
                                            <input name="image" id="imageInput" class="form-control rounded" type="file" accept="image/*" onchange="previewImage(event)" />
                                        </div>

                                        <div class="mb-3">
                                            <label for="productTitle" class="form-label">Title</label>
                                            <input name="name" id="productTitle" class="form-control rounded" value="Sample Product Name" type="text" />
                                            <small>Write a 60 character product title.</small>
                                        </div>

                                        <div class="mb-3">
                                            <label class="form-label">Product Category</label>
                                            <select name="category_id" class="form-select">
                                                <option value="">Select Category</option>
                                                <option value="1">Category 1</option>
                                                <option value="2">Category 2</option>
                                            </select>
                                            <small>Help people find your products by choosing categories that represent your product.</small>
                                        </div>

                                        <div class="mb-3">
                                            <label class="form-label">Product Description</label>
                                            <textarea name="description" class="form-control rounded" cols="30" rows="10">Sample product description.</textarea>
                                            <small>A brief summary of your product.</small>
                                        </div>

                                        <div class="mb-3">
                                            <label for="productPrice" class="form-label">Regular Price</label>
                                            <input name="regular_price" id="productPrice" value="20.99" class="form-control rounded" type="number" placeholder="$20.99" />
                                        </div>

                                        <div>
                                            <label for="productPrice" class="form-label">Sale Price</label>
                                            <input name="price" id="productPrice" value="8.70" class="form-control rounded" type="number" placeholder="$8.70" />
                                        </div>
                                    </div>
                                </div>

                                <div class="card mb-3 m-3">
                                    <div class="card-header border-bottom px-4 py-3">
                                        <h4 class="mb-0">Variants</h4>
                                    </div>

                                    <div id="variant-container">
                                        <!-- Loop through existing variants -->
                                        <div class="spec-item border rounded-3 mb-3 m-3 variant" data-variant-index="0">
                                            <div class="card-body bg-light">
                                                <div class="d-flex align-items-center gap-2">
                                                    <input type="hidden" name="variant_id[]" value="1" />
                                                    <input type="text" class="form-control rounded" name="variant_title[]" value="Sample Variant" placeholder="Variant Title" />
                                                    <button type="button" class="btn text-white bg-danger rounded remove-variant" data-product_id="1" data-variant_id="1"><i class="fas fa-trash"></i></button>
                                                </div>

                                                <div class="sub-item-container mt-3">
                                                    <!-- Loop through existing variant items -->
                                                    <div class="card-body shadow mt-3 rounded sub-item">
                                                        <input type="hidden" name="item_id_0[]" value="1" />
                                                        <input type="text" class="form-control mb-2 rounded" name="item_title_0[]" value="Sample Item" placeholder="Item Title" />
                                                        <input type="text" class="form-control mb-2 rounded" name="item_description_0[]" value="Sample Description" placeholder="Item Description" />
                                                        <button type="button" class="btn text-white bg-danger rounded btn-sm remove-item" data-variant_id="1" data-item_id="1"><i class="fas fa-trash"></i></button>
                                                    </div>
                                                </div>

                                                <button type="button" class="btn btn-sm rounded text-white bg-dark mt-3 add-item" data-variant-index="0">+ Add Item</button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Button to add a new variant -->
                                    <div class="m-3">
                                        <button type="button" class="btn btn-sm rounded text-white bg-primary mt-1" id="add-variant">+ Add Variant</button>
                                    </div>
                                </div>

                                <div class="card mb-3 m-3">
                                    <div class="card-header border-bottom px-4 py-3">
                                        <h4 class="mb-0">Images</h4>
                                    </div>

                                    <div class="card-body row" id="images-container">
                                        <!-- Display existing images from the database -->
                                        <div class="col-lg-3 image-container" data-image-id="1">
                                            <div class="card-body image-item border rounded-3 mb-2">
                                                <div class="d-flex justify-content-between align-items-center mb-3">
                                                    <button type="button" class="btn bg-danger btn-sm text-white rounded delete-image-btn" data-product_id="1" data-image_id="1"><i class="fas fa-trash"></i></button>
                                                </div>
                                                <img src="dummy-image-url.jpg" alt="Product Image" class="img-fluid mb-2" style="width: 100%; height: 150px; object-fit: cover; border-radius: 10px" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="m-3">
                                        <button type="button" class="btn btn-sm rounded text-white bg-primary" id="add-image-btn">+ Add Image</button>
                                    </div>
                                </div>

                                <!-- Hidden input for deleting images -->
                                <input type="hidden" name="delete_image_ids[]" id="delete-image-ids" />

                                <button class="btn btn-lg rounded text-white bg-primary mt-3 w-100 mt-2" type="submit">Save Changes <i class="fas fa-save ms-2"></i></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
